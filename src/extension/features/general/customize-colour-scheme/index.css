body {
  /* Default values */
  --tk-custom-colours-negative: #d55e00;
  --tk-custom-colours-positive: #009e73;
  --tk-custom-colours-warning: #797dec;
}

/* Default theme */
body.tk-custom-colours-enabled {
  /*
    Each accent colour is defined by scaling the base colour in the LCH colour space
    The accent variables are named --tk-custom-colours-{base}-l{% lightness}c{% chroma}
    e.g. l100c100 is equivalent to the base colour, l150c100 would be 50% brighter,
         l100c050 would be the same brightness, but 50% as saturated
    
    themer.html in this folder is a tool that can be used to convert CSS rules from
    the YNAB stylesheet automatically into accent variables

    To build the themes copy the base colours below into the themer along with YNAB
    CSS rules - then standardise the LC colours across the positive/negative/warning
    rules - some manual tweaking will be required

    If a new accent variable is referenced it needs to be added to the
    TK_CUSTOMIZE_COLOUR_ACCENTS at the top of index.js to be defined and updated

    Base colours:
    Positive: #6d9f38
    Warning: #e0a41a
    Negative: #ca481d
  */

  /* Negative */
  --banner_negative_button_background: var(--tk-custom-colours-negative) !important;
  --banner_negative_button_background_active: var(--tk-custom-colours-negative-l045c055) !important;
  --budget_balance_negative_background: var(--tk-custom-colours-negative-l150c060) !important;
  --budget_balance_negative_background_active: var(
    --tk-custom-colours-negative-l140c075
  ) !important;
  --budget_balance_negative_icon: var(--tk-custom-colours-negative-l030c045) !important;
  --budget_balance_negative_text: var(--tk-custom-colours-negative-l030c045) !important;
  --budget_bar_overspending: var(--tk-custom-colours-negative) !important;
  --budget_bar_overspending_stripe: var(--tk-custom-colours-negative-l150c060) !important;
  --header_label_negative: var(--tk-custom-colours-negative) !important;
  --header_tbb_negative_background: var(--tk-custom-colours-negative) !important;
  --label_negative: var(--tk-custom-colours-negative) !important;
  --label_negative_active: var(--tk-custom-colours-negative-l045c055) !important;
  --label_negative_disabled: var(--tk-custom-colours-negative-l150c060) !important;
  --message_negative_accent: var(--tk-custom-colours-negative) !important;
  --message_negative_background: var(--tk-custom-colours-negative-l160c015) !important;
  --message_negative_label: var(--tk-custom-colours-negative-l030c045) !important;
  --status_negative: var(--tk-custom-colours-negative) !important;

  /* Positive */
  --banner_positive_button_background: var(--tk-custom-colours-positive) !important;
  --banner_positive_button_background_active: var(--tk-custom-colours-positive-l045c055) !important;
  --budget_balance_positive_background: var(--tk-custom-colours-positive-l150c060) !important;
  --budget_balance_positive_background_active: var(
    --tk-custom-colours-positive-l140c075
  ) !important;
  --budget_balance_positive_icon: var(--tk-custom-colours-positive-l030c045) !important;
  --budget_balance_positive_text: var(--tk-custom-colours-positive-l030c045) !important;
  --budget_bar_funded: var(--tk-custom-colours-positive) !important;
  --budget_bar_funded_spending: var(--tk-custom-colours-positive-l140c075) !important;
  --budget_bar_funded_spending_stripe: var(--tk-custom-colours-positive-l160c015) !important;
  --header_label_positive: var(--tk-custom-colours-positive) !important;
  --header_tbb_positive_background: var(--tk-custom-colours-positive) !important;
  --label_positive: var(--tk-custom-colours-positive) !important;
  --label_positive_active: var(--tk-custom-colours-positive-l045c055) !important;
  --message_positive_accent: var(--tk-custom-colours-positive) !important;
  --message_positive_background: var(--tk-custom-colours-positive-l160c015) !important;
  --message_positive_label: var(--tk-custom-colours-positive-l030c045) !important;
  --status_positive: var(--tk-custom-colours-positive) !important;

  /* Warning */
  --banner_warning_button_background: var(--tk-custom-colours-warning) !important;
  --banner_warning_button_background_active: var(--tk-custom-colours-warning-l045c055) !important;
  --budget_balance_warning_background: var(--tk-custom-colours-warning-l150c060) !important;
  --budget_balance_warning_background_active: var(--tk-custom-colours-warning-l140c075) !important;
  --budget_balance_warning_icon: var(--tk-custom-colours-warning-l030c045) !important;
  --budget_balance_warning_text: var(--tk-custom-colours-warning-l030c045) !important;
  --budget_bar_underfunded: var(--tk-custom-colours-warning) !important;
  --budget_bar_underfunded_spending: var(--tk-custom-colours-warning-l150c060) !important;
  --budget_bar_underfunded_spending_stripe: var(--tk-custom-colours-warning-l160c015);
  --label_warning: var(--tk-custom-colours-warning-l045c055) !important;
  --message_warning_accent: var(--tk-custom-colours-warning) !important;
  --message_warning_background: var(--tk-custom-colours-warning-l160c015);
  --message_warning_label: var(--tk-custom-colours-warning-l030c045) !important;
  --status_cautious: var(--tk-custom-colours-warning) !important;
}

/* Dark theme */
body.tk-custom-colours-enabled.theme-dark {
  /* Negative */
  --banner_negative_button_background: var(--tk-custom-colours-negative-l140c075) !important;
  --banner_negative_button_background_active: var(--tk-custom-colours-negative-l120c100) !important;
  --banner_negative_button_label: var(--tk-custom-colours-negative-l025c020) !important;
  --budget_balance_negative_background: var(--tk-custom-colours-negative) !important;
  --budget_balance_negative_background_active: var(
    --tk-custom-colours-negative-l110c100
  ) !important;
  --budget_balance_negative_icon: #232325 !important;
  --budget_balance_negative_text: #232325 !important;
  --budget_bar_overspending: var(--tk-custom-colours-negative-l055c090) !important;
  --budget_bar_overspending_stripe: var(--tk-custom-colours-negative-l025c020) !important;
  --header_label_negative: var(--tk-custom-colours-negative) !important;
  --header_tbb_negative_background: var(--tk-custom-colours-negative) !important;
  --label_negative: var(--tk-custom-colours-negative) !important;
  --label_negative_active: var(--tk-custom-colours-negative-l110c100) !important;
  --label_negative_disabled: var(--tk-custom-colours-negative-l120c050) !important;
  --message_negative_accent: var(--tk-custom-colours-negative) !important;
  --message_negative_background: var(--tk-custom-colours-negative-l025c020) !important;
  --message_negative_label: var(--tk-custom-colours-negative) !important;
  --status_negative: var(--tk-custom-colours-negative-l055c090);

  /* Positive */
  --banner_positive_button_background: var(--tk-custom-colours-positive-l140c075) !important;
  --banner_positive_button_background_active: var(--tk-custom-colours-positive-l120c100) !important;
  --banner_positive_button_label: var(--tk-custom-colours-positive-l025c020) !important;
  --budget_balance_positive_background: var(--tk-custom-colours-positive) !important;
  --budget_balance_positive_background_active: var(
    --tk-custom-colours-positive-l110c100
  ) !important;
  --budget_balance_positive_icon: #232325 !important;
  --budget_balance_positive_text: #232325 !important;
  --budget_bar_funded: var(--tk-custom-colours-positive) !important;
  --budget_bar_funded_spending: var(--tk-custom-colours-positive-l045c055) !important;
  --budget_bar_funded_spending_stripe: var(--tk-custom-colours-positive-l025c020) !important;
  --header_label_positive: var(--tk-custom-colours-positive) !important;
  --header_tbb_positive_background: var(--tk-custom-colours-positive) !important;
  --label_positive: var(--tk-custom-colours-positive) !important;
  --label_positive_active: var(--tk-custom-colours-positive-l110c100) !important;
  --message_positive_accent: var(--tk-custom-colours-positive) !important;
  --message_positive_background: var(--tk-custom-colours-positive-l025c020) !important;
  --message_positive_label: var(--tk-custom-colours-positive-l110c100) !important;
  --status_positive: var(--tk-custom-colours-positive) !important;

  /* Warning */
  --banner_warning_button_background: var(--tk-custom-colours-warning-l140c075) !important;
  --banner_warning_button_background_active: var(--tk-custom-colours-warning-l120c100) !important;
  --banner_warning_button_label: var(--tk-custom-colours-warning-l025c020) !important;
  --budget_balance_warning_background: var(--tk-custom-colours-warning) !important;
  --budget_balance_warning_background_active: var(--tk-custom-colours-warning-l110c100) !important;
  --budget_balance_warning_icon: #232325 !important;
  --budget_balance_warning_text: #232325 !important;
  --budget_bar_underfunded_spending: var(--tk-custom-colours-warning-l045c055) !important;
  --budget_bar_underfunded_spending_stripe: var(--tk-custom-colours-warning-l025c020) !important;
  --budget_bar_underfunded: var(--tk-custom-colours-warning) !important;
  --label_warning: var(--tk-custom-colours-warning-l110c100) !important;
  --message_warning_accent: var(--tk-custom-colours-warning) !important;
  --message_warning_background: var(--tk-custom-colours-warning-l025c020) !important;
  --message_warning_label: var(--tk-custom-colours-warning-l110c100) !important;
  --status_cautious: var(--tk-custom-colours-warning) !important;
}

/* Classic theme */
body.tk-custom-colours-enabled.theme-classic {
  /* Negative */
  --banner_negative_button_background: #fff !important;
  --banner_negative_button_background_active: var(--tk-custom-colours-negative-l160c015) !important;
  --banner_negative_button_label: var(--tk-custom-colours-negative) !important;
  --budget_balance_negative_background: var(--tk-custom-colours-negative) !important;
  --budget_balance_negative_background_active: var(
    --tk-custom-colours-negative-l090c090
  ) !important;
  --budget_balance_negative_icon: #fff !important;
  --budget_balance_negative_text: #fff !important;
  --budget_bar_overspending: var(--tk-custom-colours-negative) !important;
  --budget_bar_overspending_stripe: var(--tk-custom-colours-negative-l140c060) !important;
  --header_label_negative: var(--tk-custom-colours-negative-l140c060) !important;
  --header_tbb_negative_background: var(--tk-custom-colours-negative) !important;
  --label_negative: var(--tk-custom-colours-negative) !important;
  --label_negative_active: var(--tk-custom-colours-negative-l090c090) !important;
  --label_negative_disabled: var(--tk-custom-colours-negative-l140c060) !important;
  --message_negative_accent: var(--tk-custom-colours-negative-l090c090) !important;
  --message_negative_background: var(--tk-custom-colours-negative-l160c015) !important;
  --message_negative_label: var(--tk-custom-colours-negative-l030c045) !important;
  --status_negative: var(--tk-custom-colours-negative) !important;

  /* Positive */
  --banner_positive_button_background: #fff !important;
  --banner_positive_button_background_active: var(--tk-custom-colours-positive-l160c015) !important;
  --banner_positive_button_label: var(--tk-custom-colours-positive) !important;
  --budget_balance_positive_background: var(--tk-custom-colours-positive) !important;
  --budget_balance_positive_background_active: var(
    --tk-custom-colours-positive-l090c090
  ) !important;
  --budget_balance_positive_icon: #fff !important;
  --budget_balance_positive_text: #fff !important;
  --budget_bar_funded: var(--tk-custom-colours-positive) !important;
  --budget_bar_funded_spending: var(--tk-custom-colours-positive-l140c060) !important;
  --budget_bar_funded_spending_stripe: var(--tk-custom-colours-positive-l160c015) !important;
  --header_label_positive: var(--tk-custom-colours-positive-l125c065) !important;
  --header_tbb_positive_background: var(--tk-custom-colours-positive) !important;
  --label_positive: var(--tk-custom-colours-positive) !important;
  --label_positive_active: var(--tk-custom-colours-positive-l090c090) !important;
  --message_positive_accent: var(--tk-custom-colours-positive-l090c090) !important;
  --message_positive_background: var(--tk-custom-colours-positive-l160c015) !important;
  --message_positive_label: var(--tk-custom-colours-positive-l030c045) !important;
  --status_positive: var(--tk-custom-colours-positive) !important;

  /* Warning */
  --banner_warning_button_background: #fff !important;
  --banner_warning_button_background_active: var(--tk-custom-colours-warning-l160c015) !important;
  --banner_warning_button_label: var(--tk-custom-colours-warning) !important;
  --budget_balance_warning_background: var(--tk-custom-colours-warning) !important;
  --budget_balance_warning_background_active: var(--tk-custom-colours-warning-l090c090) !important;
  --budget_balance_warning_icon: #fff !important;
  --budget_balance_warning_text: #fff !important;
  --budget_bar_underfunded: var(--tk-custom-colours-warning) !important;
  --budget_bar_underfunded_spending: var(--tk-custom-colours-warning-l125c065) !important;
  --budget_bar_underfunded_spending_stripe: var(--tk-custom-colours-warning-l160c015) !important;
  --label_warning: var(--tk-custom-colours-warning-l045c055) !important;
  --message_warning_accent: var(--tk-custom-colours-warning) !important;
  --message_warning_background: var(--tk-custom-colours-warning-l160c015) !important;
  --message_warning_label: var(--tk-custom-colours-warning-l030c045) !important;
  --status_cautious: var(--tk-custom-colours-warning) !important;
}

/* Square corners */
body.tk-custom-colours-enabled[tk-custom-colours-negative-square]
  .ynab-new-budget-available-number.negative {
  border-radius: 0em !important;
  -webkit-border-radius: 0em !important;
}

body.tk-custom-colours-enabled[tk-custom-colours-positive-square]
  .ynab-new-budget-available-number.positive {
  border-radius: 0em !important;
  -webkit-border-radius: 0em !important;
}

body.tk-custom-colours-enabled[tk-custom-colours-warning-square]
  .ynab-new-budget-available-number.cautious {
  border-radius: 0em !important;
  -webkit-border-radius: 0em !important;
}

body.tk-custom-colours-enabled[tk-custom-colours-negative-square]
  .left-to-budget-is-negative
  .to-be-budgeted {
  border-radius: 0em !important;
  -webkit-border-radius: 0em !important;
}

body.tk-custom-colours-enabled[tk-custom-colours-positive-square]
  .left-to-budget-is-positive
  .to-be-budgeted {
  border-radius: 0em !important;
  -webkit-border-radius: 0em !important;
}

/* Options menu */
.tk-custom-colours-option-title {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
}

.tk-custom-colours-option-title h3 {
  width: auto !important;
}
.tk-custom-colours-option-title input {
  width: auto;
  border: var(--background_tertiary);
}

.tk-custom-colours-option .ynab-new-theme-switcher-grid {
  display: none;
}
body.tk-custom-colours-enabled .tk-custom-colours-option .ynab-new-theme-switcher-grid {
  display: flex;
}

.tk-custom-colours-positive,
.tk-custom-colours-warning,
.tk-custom-colours-negative {
  position: relative;
  border-color: var(--divider-standard);
  border-radius: 0.5rem;
  border-width: 0.125rem;
  border-style: solid;
  width: 219px;
  text-align: center;
  overflow: hidden;
}

.tk-custom-colours-option .tk-custom-colours-picker {
  width: 100%;
  height: 100px;
  margin: 0px;
  border: 0px;
  border-radius: 0px;
  cursor: pointer;
}

.tk-custom-colours-picker-icon {
  width: 16px;
  height: 16px;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M92 8c-5-4-12-4-17 0L62 22l-4-4a5 5 0 10-7 7l4 4-42 41c-2 2-3 5-3 8a81 81 0 01-1 6l-3 3v4l3 3h4l3-3h1l5-1c3 0 6-1 8-3l41-42 4 4a5 5 0 107-7L70 29l9 8 13-12c4-5 4-12 0-17zM65 43L45 63h-4l-3-3h-4l-1 1-14 14h-1v-1l24-23 15-16h4l4 4v4z"/></svg>');
  background-size: 16px 16px;
  background-repeat: no-repeat;
  position: absolute;
  top: 16px;
  right: 16px;
}

.tk-custom-colours-picker-reset {
  width: 16px;
  height: 16px;
  background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 54.3 55.6"><path d="M54.3 0l-9 7.3a27.4 27.4 0 10-17.7 48.3c11.8 0 22-7.4 25.9-18l-10-2.4a17.3 17.3 0 01-16 10.6c-9.7 0-17.4-7.7-17.4-17.5 0-9.7 7.7-17.7 17.5-17.7 3.6 0 6.9 1.1 9.6 3l-9 7.2 26.1 4.9V0z"/></svg>');
  background-size: 16px 16px;
  background-repeat: no-repeat;
  position: absolute;
  top: 16px;
  left: 16px;
}

.tk-custom-colours-square div {
  width: 219px;
  text-align: center;
  padding-bottom: 0.5em;
}

.tk-custom-colours-square input,
.tk-custom-colours-square label {
  width: auto;
  display: inline;
  font-weight: normal;
}

.tk-custom-colours-square input {
  margin: 0 0.3em 0 0;
}
